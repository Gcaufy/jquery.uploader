<!DOCTYPE html>
<html lang="zh-cn" class="no-js">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="language" content="en" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport" />


        <link rel="shortcut icon" href="images/favicon.ico" />

		<!--link rel="stylesheet" type="text/css" href="/demo.css"/-->

        <script type="text/javascript" src="jquery.js"></script>
        <script type="text/javascript" src="jquery.uploader.js"></script>

        <title>jQuery Uploader Demo</title>
        <style>
            .ju-uploading:after {
                content: 'uploading...';
            }
            .ju-removing:after {
                content: 'removing...';
            }



body {
    font-size: 14px;
}   
h3 {
    font-size: 27px;
    margin-top: 50px
}

pre {
    background-color: #e4e4e4;
    border: 1px solid #bababa;
    color: #000000;
    display: block;
    display: none;overflow-x: scroll;
    width: 600px;
}

#div2 .fileinput-button input {
    cursor: pointer;
    direction: ltr;
    font-size: 200px;
    margin: 0;
    opacity: 0;
    position: absolute;
    right: 0;
    top: 0;
    filter: alpha(opacity=0); HEIGHT: 100%;
}
#div2 input[type="file"] {
    display: block;
}
#div2 .fileupload-buttonbar .btn, .fileupload-buttonbar .toggle {
    margin-bottom: 5px;
}
#div2 .fileinput-button {
    overflow: hidden;
    position: relative;
}
#div2 .btn-success {
    background-color: #5cb85c;
    border-color: #4cae4c;
    color: #fff;
}
#div2 .btn {
    -moz-user-select: none;
    background-image: none;
    border: 1px solid transparent;
    border-radius: 4px;
    cursor: pointer;
    display: inline-block;
    font-size: 14px;
    font-weight: 400;
    line-height: 1.42857;
    margin-bottom: 0;
    padding: 6px 12px;
    text-align: center;
    vertical-align: middle;
    white-space: nowrap;
}
#div2 .btn-primary {
    background-color: #428bca;
    border-color: #357ebd;
    color: #fff;
}
#div2 .btn-danger {
    background-color: #d9534f;
    border-color: #d43f3a;
    color: #fff;
}
#div2 #ul2 {
    padding: 0;
    width: 870px;
}   
#div2 #ul2 li {
    border-top: 1px solid #cfcfcf;
    list-style: none outside none;
    margin: 0;
    padding: 5px;
}
#div2 #ul2 span.name {
    display: inline-block;
    width: 530px;
    margin-left: 20px;
}
#div2 #ul2 span.size {
    display: inline-block;
    margin-right: 80px;
    text-align: right;
    width: 130px
}



#div3 .pic-holder {
    border: 1px solid #cccccc;
    width: 850px;
    background-color: #eeeeee;
    border-radius: 8px;
}
#div3 .pic-items, #div3 .pic-uploader {
    border: 1px solid #cccccc;
    display: inline-block;
    height: 200px;
    margin: 5px;
    padding: 0;
    width: 200px;
    float: left;
    position: relative;
    background-color: #cccccc;
}
#div3 .clear {
    display: block;
    clear: both;
}
#div3 .pic-items img {
    width: 200px;
    height: 170px;
}
.pic-items div {
    background-color: #cccccc;
    height: 20px;
    line-height: 22px;
    overflow: hidden;
    padding: 3px;
    overflow: hidden;
    white-space: nowrap;
    word-break: keep-all;
    margin: -4px 0 0;
}
.pic-items a {
    background-color: #333333;
    border-radius: 15px;
    color: white;
    font-weight: bold;
    height: 8px;
    line-height: 8px;
    padding: 5px;
    position: absolute;
    right: 5px;
    text-align: center;
    text-decoration: none;
    width: 8px;
    top: 3px;
    opacity: 0.3;
}
.pic-items a:hover {
    background-color: red;
    opacity: 0.8;
}
#div3 .pic-uploader {
    position: relative;
    text-align: center;
    overflow: hidden;
}
#div3 .pic-uploader input{
    background-color: #EEEEEE;
    cursor: pointer;
    direction: ltr;
    font-size: 200px;
    height: 100%;
    margin: 0;
    opacity: 0;
    position: absolute;
    right: 0;
    top: 0;
}

#div3 .pic-uploader span {
    font-size: 16px;
    position: relative;
    top: 85px;
}

        </style>
	</head>

	<body>
        <h3># Simple Demo without css</h3> 
        <ul id="ul1"></ul>
        <hr />
        <div id="div1">
            <input type="file" id="file1" name="myfile" />
            <input type="button" id="btn1" value="upload" />
        </div>
<a href="javascript:;" class='view-source'>View Source</a>
<pre>
$('#file1').uploader({
    url: "server/upload.php?id=file1",
    //fileElement: 'file1',
    uploadTriggeredButton: 'btn1',
    allowFiles: 'jpg,gif,png,jpge,bmp',
    list: {
        element: 'ul1',
        allowDelete: true,
        deleteUrl: 'server/delete.php',
        ajaxParams: ['id', 'ext'],
    }
}).init();
</pre>


        <h3># Demo template 1</h3> 
        <div id="div2">
            <span class="btn btn-success fileinput-button">
                <span>+ Select File...</span>
                <input type="file" id="file2" name="myfile">
            </span>

            <!--input type="file" id="file2" name="myfile" /-->
            <button class="btn btn-primary start" id="btn2">
                <span>Upload</span>
            </button>
            <ul id="ul2"></ul>
        </div>

<a href="javascript:;" class='view-source'>View Source</a>
<pre>
$('#file2').uploader({
    url: "server/upload.php?id=file2",
    //fileElement: 'file2',
    uploadTriggeredButton: 'btn2',
    allowFiles: 'jpg,gif,png,jpge,bmp',
    onValidateFailed: function (name) {
        alert('Only "jpg,gif,png,jpge,bmp" is allowed');
        return false;
    },
    list: {
        element: 'ul2',
        allowDelete: true,
        deleteUrl: 'server/delete.php',
        ajaxParams: ['id', 'ext'],
        fileTemplate: '&lt;span class="name">{name}&lt;/span>&lt;span class="size">{zise} Kb&lt;/span>',
        deleteButtonTemplate: '&lt;button class="btn btn-danger delete" type="button">&lt;i class="glyphicon glyphicon-trash">&lt;/i>&lt;span>Delete&lt;/span>&lt;/button>',
    },
    onSelect: function (name) {
        $(this.uploadButton).find('span').html('Upload (' + name + ')');
    },
    beforeUpload: function () {
        $(this.uploadButton).find('span').html('Uploading');
    },
    afterUpload: function (rst) {
        $(this.uploadButton).find('span').html('Upload');
    },
    dataFilter: function (rst) {
        rst.zise = Math.ceil(rst.zise * 100 / 1024) / 100;
        return rst;
    }
}).init();
</pre>



        <h3># Demo template 2</h3> 
        <div id="div3">
            <div id="ul3" class="pic-holder">
                <div class="pic-uploader">
                    <span>+ Select File...</span>
                    <input type="file" id="file3" name="myfile">
                </div>
                <div class="clear"></div>
            </div>
        </div>

<a href="javascript:;" class='view-source'>View Source</a>
<pre>
$('#file3').uploader({
    url: "server/upload.php?id=file3",
    allowFiles: 'jpg,gif,png,jpge,bmp',
    onValidateFailed: function (name) {
        alert('Only "jpg,gif,png,jpge,bmp" is allowed');
        return false;
    },
    list: {
        element: 'ul3',
        liTemplate: '&lt;div class="pic-items">&lt;/div>',
        //insertWay: 'prepend',
        insertWay: function (ul, li) {
            ul.find('.pic-uploader').before(li);
        },
        allowDelete: true,
        deleteUrl: 'server/delete.php',
        ajaxParams: ['id', 'ext'],
        fileTemplate: '&lt;img src="server/{id}.{ext}" />&lt;div>{name}({zise} Kb)&lt;/div>',
        deleteButtonTemplate: '&lt;a href="javascript:;">X&lt;/a>'
    },
    beforeUpload: function () {
        $(this.fileElement).parents('.pic-uploader').find('span').html('Uploading');
    },
    afterUpload: function (rst) {
        $(this.fileElement).parents('.pic-uploader').find('span').html('+ Select File...');
    },
    onValidateFailed: function (name) {
        alert('Only "jpg,gif,png,jpge,bmp" is allowed');
        return false;
    }
}).init();
</pre>

        <script>
        // Demo 1
        $('#file1').uploader({
            url: "server/upload.php?id=file1",
            //fileElement: 'file1',
            uploadTriggeredButton: 'btn1',
            allowFiles: 'jpg,gif,png,jpge,bmp',
            onValidateFailed: function (name) {
                alert('Only "jpg,gif,png,jpge,bmp" is allowed');
                return false;
            },
            list: {
                element: 'ul1',
                allowDelete: true,
                deleteUrl: 'server/delete.php',
                ajaxParams: ['id', 'ext'],
            }
        }).init();

        // Demo 2
        $('#file2').uploader({
            url: "server/upload.php?id=file2",
            //fileElement: 'file2',
            uploadTriggeredButton: 'btn2',
            allowFiles: 'jpg,gif,png,jpge,bmp',
            onValidateFailed: function (name) {
                alert('Only "jpg,gif,png,jpge,bmp" is allowed');
                return false;
            },
            list: {
                element: 'ul2',
                allowDelete: true,
                deleteUrl: 'server/delete.php',
                allowFiles: 'jpg,gif,png,jpge,bmp',
                ajaxParams: ['id', 'ext'],
                fileTemplate: '<span class="name">{name}</span><span class="size">{size} Kb</span>',
                deleteButtonTemplate: '<button class="btn btn-danger delete" type="button"><i class="glyphicon glyphicon-trash"></i><span>Delete</span></button>',
            },
            onSelect: function (name) {
                $(this.uploadButton).find('span').html('Upload (' + name + ')');
            },
            beforeUpload: function () {
                $(this.uploadButton).find('span').html('Uploading');
            },
            afterUpload: function (rst) {
                $(this.uploadButton).find('span').html('Upload');
            },
            dataFilter: function (rst) {
                rst.zise = Math.ceil(rst.zise * 100 / 1024) / 100;
                return rst;
            }
        }).init();

        // Demo 2
        $('#file3').uploader({
            url: "server/upload.php?id=file3",
            allowFiles: 'jpg,gif,png,jpge,bmp',
            list: {
                element: 'ul3',
                liTemplate: '<div class="pic-items"></div>',
                //insertWay: 'prepend',
                insertWay: function (ul, li) {
                    ul.find('.pic-uploader').before(li);
                },
                allowDelete: true,
                deleteUrl: 'server/delete.php',
                ajaxParams: ['id', 'ext'],
                fileTemplate: '<img src="{url}" /><div>{name}({zise} Kb)</div>',
                deleteButtonTemplate: '<a href="javascript:;">X</a>'
            },
            beforeUpload: function () {
                $(this.fileElement).parents('.pic-uploader').find('span').html('Uploading');
            },
            afterUpload: function (rst) {
                $(this.fileElement).parents('.pic-uploader').find('span').html('+ Select File...');
            },
            onValidateFailed: function (name) {
                alert('Only "jpg,gif,png,jpge,bmp" is allowed');
                return false;
            }
        }).init();


        $('.view-source').click(function () {
            $(this).next().toggle();
        })
        </script>
    </body>
</html>

